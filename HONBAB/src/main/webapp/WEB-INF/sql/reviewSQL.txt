------------------ CREATE TABLE, SEQ -------------------
CREATE TABLE REVIEW_BOARD(
    WRITE_NO NUMBER(10) PRIMARY KEY,
    NICKNAME VARCHAR2(100) NOT NULL,
    TITLE VARCHAR2(100) NOT NULL,
    CONTENT VARCHAR2(1000) NOT NULL,
    VIEWS NUMBER(10) DEFAULT 0,
    WRITE_DATE DATE DEFAULT SYSDATE,
    IMGNAME VARCHAR2(1000),
    LIKES NUMBER(10) DEFAULT 0,
    ID VARCHAR(100) NOT NULL
);

CREATE SEQUENCE REVIEW_BOARD_SEQ INCREMENT BY 1 MAXVALUE 1000;

CREATE TABLE REVIEW_RE(
RE_ID VARCHAR2(100) NOT NULL,
RE_COMENT VARCHAR2(300) NOT NULL,
WRITE_GROUP NUMBER,
RE_DATE DATE DEFAULT SYSDATE,
RE_NICK VARCHAR2(100) NOT NULL,
CONSTRAINT FK_REVIEW_RE_BOARD FOREIGN KEY(WRITE_GROUP) REFERENCES REVIEW_BOARD(WRITE_NO) ON DELETE CASCADE
);

CREATE TABLE REVIEW_LIKE(
    LIKE_ID VARCHAR2(100),
    LIKE_WRITE_NO NUMBER(10)
);

--USER_JOIN 생성하면 실행
--CONSTRAINT 포린키이름 FOREIGN KEY 자식속성 REFERENCES 부모테이블명(자식속성이 참고할 부모속성) ON DELETE CASCADE;
ALTER TABLE REVIEW_BOARD ADD CONSTRAINT FK_REVIEW_BOARD_JOIN FOREIGN KEY(ID) REFERENCES USER_JOIN(ID) ON DELETE CASCADE;
ALTER TABLE REVIEW_BOARD ADD CONSTRAINT FK_REVIEW_RE_JOIN FOREIGN KEY(ID) REFERENCES USER_JOIN(id) ON DELETE CASCADE;

